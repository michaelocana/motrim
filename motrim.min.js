!function(i){i.fn.motrim||(i.fn.motrim=function(t){function e(t){var e=i("#guide");return e.empty(),e.html(t),e.width()}function n(i,t){var n,s=i,l="",h=new Array,a=new Array;if(e(s)>t){for(h=s.trim().split(" "),a=s.trim().split(" "),n=0;n<h.length&&(l=a.join(" "),!(t>e(l+r.ellipsis)));++n)a=l.split(" "),a.pop();l+=r.ellipsis}else l=i;return l}var r=i.extend({width:null,ellipsis:"..."},t);return this.each(function(){var t=i(this).text();if(null==r.width)var e=i(this).parent().width();else var e=parseInt(r.width);i('<span id="guide" style="display: none; white-space: nowrap;"></span>').insertBefore(this),i(this).find("a").length?i(this).find("a").html(n(t,e)):i(this).html(n(t,e)),i("#guide").remove()})})}(jQuery);
